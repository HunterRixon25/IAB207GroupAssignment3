<head>
  <link rel="stylesheet" href="../static/style/index_style.css" type="text/css"/>
</head>

{% extends "base.html" %}

{% import "bootstrap5/form.html" as wtf %}

{% block content %}

    <!-- Event Creation Form -->
    <form method="post" action="/create" enctype="multipart/form-data">
      <div class="container-fluid">
        <article class="blog-post">
          <h2 class="display-5 link-body-emphasis mb-1 text-center">Create Your Event Here</h2>
          <hr>
          <h3>Event Details</h3>
          <div class="row">
            <div class="col">
              <div class="mb-3">
                <div class="form-group">
                  <label for="{{ form.name.id }}" class="form-label"><span class="mandatory-field">*</span>Event Name</label>
                  {{ form.name(class="form-control", placeholder="Enter a name for your event") }}
                  <!-- Display validation error for this field -->
                  {% if form.name.errors %}
                    <div class="alert alert-danger">
                        {% for error in form.name.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                  {% endif %}
                </div>
              </div>
              <div class="form-group">
                <label for="{{ form.eventCategory.id }}" class="form-label"><span class="mandatory-field">*</span>Event Category</label>
                {{ form.eventCategory(class="form-control", placeholder="Enter your event category, like 'Blues' or 'Jazz'") }}
                <!-- Display validation error for this field -->
                {% if form.eventCategory.errors %}
                  <div class="alert alert-danger">
                      {% for error in form.eventCategory.errors %}
                          {{ error }}
                      {% endfor %}
                  </div>
                {% endif %}
              </div>
            </div>
            <div class="col">
                <div class="card card-cover h-100 rounded-4 shadow-lg">
                    <div class="d-flex flex-column h-100 p-5 pb-3 text-shadow-1 mt-5">
                        <div class="input-group mb-3">
                            {{ form.image(class="form-control") }}
                            <label class="input-group-text" for="inputGroupFile02">Upload</label>
                        </div>                      
                      <p class="text-muted text-center">Supported file types: JPEG, PNG</p>
                      {% if form.image.errors %}
                            <div class="alert alert-danger">
                                {% for error in form.image.errors %}
                                    {{ error }}
                                {% endfor %}
                            </div>
                          {% endif %}
                    </div>
                  </div>
            </div>
          </div>
          <div class="form-group">
            <label for="{{ form.description.id }}" class="form-label"><span class="mandatory-field">*</span>Event Description</label>
            {{ form.description(class="form-control", placeholder="Enter Event Description (250 word limit)") }}
            {% if form.description.errors %}
            <div class="alert alert-danger">
                {% for error in form.description.errors %}
                    {{ error }}
                {% endfor %}
            </div>
          {% endif %}
          </div>
        <div class="row">
          <div class="col p-3">
            <div class="form-group">
              <label for="{{ form.eventDateTime.id }}" class="form-label"><span class="mandatory-field">*</span>Event Date</label>
              <!-- <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="17/09/2023"> -->
              {{ form.eventDateTime }}
              {% if form.eventDateTime.errors %}
              <div class="alert alert-danger">
                {% for error in form.eventDateTime.errors %}
                    {{ error }}
                {% endfor %}
            </div>
          {% endif %}
            </div>
          </div>
        </div>
        <hr>
        <h3>Location</h3>
        <div class="row">
          <div class="form-group">
            <label for="{{ form.address1.id }}" class="form-label"><span class="mandatory-field">*</span>Address</label>
          {{ form.address1(class="form-control", placeholder="e.g. '123 Blues Street'") }}
          {% if form.address1.errors %}
          <div class="alert alert-danger">
              {% for error in form.address1.errors %}
                  {{ error }}
              {% endfor %}
          </div>
        {% endif %}
          </div>
        </div>
        <div class="row">
          <div class="form-group">
            <label for="{{ form.address2.id }}" class="form-label">Address 2</label>
          {{ form.address2(class="form-control", placeholder="e.g. 'Apartment 3 Level 2'") }}
          {% if form.address2.errors %}
          <div class="alert alert-danger">
              {% for error in form.address2.errors %}
                  {{ error }}
              {% endfor %}
          </div>
        {% endif %}
          </div>
        </div>
        <div class="row py-2">
          <div class="col">
            <div class="form-group">
              <label for="{{ form.city.id }}" class="form-label"><span class="mandatory-field">*</span>City</label>
              {{ form.city(class="form-control", placeholder="e.g. 'Brisbane City'") }}
              {% if form.city.errors %}
              <div class="alert alert-danger">
                  {% for error in form.city.errors %}
                      {{ error }}
                  {% endfor %}
              </div>
            {% endif %}
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label id="mandatoryField" for="{{ form.state.id }}" class="form-label"><span class="mandatory-field">*</span>State</label>
              {{ form.state(class="form-select") }}
              {% if form.state.errors %}
              <div class="alert alert-danger">
                  {% for error in form.state.errors %}
                      {{ error }}
                  {% endfor %}
              </div>
            {% endif %}
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="{{ form.postcode.id }}" class="form-label"><span class="mandatory-field">*</span>Postcode</label>
              {{ form.postcode(class="form-control", placeholder="e.g. 4500")}}
              {% if form.postcode.errors %}
              <div class="alert alert-danger">
                  {% for error in form.postcode.errors %}
                      {{ error }}
                  {% endfor %}
              </div>
            {% endif %}
            </div>
          </div>
        </div>
        <hr>
        <h3>Booking</h3>
        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="{{ form.venueCapacity.id }}" class="form-label">Total Venue Capacity</label>
              {{ form.venueCapacity(class="form-control", placeholder="e.g. 123") }}
              {% if form.venueCapacity.errors %}
              <div class="alert alert-danger">
                  {% for error in form.venueCapacity.errors %}
                      {{ error }}
                  {% endfor %}
              </div>
            {% endif %}
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="{{ form.ticketCapacity.id }}" class="form-label">Number of Tickets</label>
              {{ form.ticketCapacity(class="form-control", placeholder="e.g. 100")}}
              {% if form.ticketCapacity.errors %}
              <div class="alert alert-danger">
                  {% for error in form.ticketCapacity.errors %}
                      {{ error }}
                  {% endfor %}
              </div>
            {% endif %}
              <small class="text-muted">
                The total number of tickets for each ticket type must not exceed the total venue capacity
              </small>
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="exampleFormControlInput1" class="form-label">Ticket Price</label>
              <div class="input-group" id="exampleFormControlInput1">
                  <span class="input-group-text">AUD$</span>
                  {{ form.ticketPrice(class="form-control", placeholder="Dollar amount (with dot and two decimal places)") }}
              </div>        
              {% if form.ticketPrice.errors %}
              <div class="alert alert-danger">
                  {% for error in form.ticketPrice.errors %}
                      {{ error }}
                  {% endfor %}
              </div>
              {% endif %}  
            </div>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="form-group">
            {{ form.submit(class="btn btn-success my-3") }}
          </div>
        </div>
      </article>
      </div>
    </form>
{% endblock %}
